## 1. 设计目标

- **提升沉浸感**：让学生像玩 RPG/关卡游戏一样推进课程，强化“成长感”。  
- **驱动学习行为**：通过任务拆解、即时反馈与奖励，让学生在学习中养成自驱力。  
- **展示成长轨迹**：可视化技能/经验成长，帮助学生看到投入与成果的正向关系。  
- **促进社交协作**：引入队伍、公会、互助等机制，打造课堂内的“游戏世界”。

## 2. 核心体验概念

- **闯关地图**：课程被映射为世界地图，每个任务是一个关卡点，按章节呈现。  
- **角色养成**：学生拥有可自定义的角色形象（头像、称号、装备），随经验升级。  
- **技能树**：每个课程/任务关联技能点，完成任务提升对应技能等级。  
- **战斗力指数**：综合经验、技能、星级、助攻等维度计算，可作为排行榜指标。  
- **故事线与剧情事件**：每个章节有主题剧情，完成关键任务可触发剧情动画或彩蛋。

## 3. 功能模块

### 3.1 首页&世界地图

- 展示课程世界地图，按章节解锁。  
- 当前待办任务以“发光关卡”提示，显示奖励、难度、剩余时间。  
- 支持缩放查看整体进度，显示章节完成度、隐藏挑战入口。  
- 悬浮信息：关卡简介、技能收益、首通奖励。
- 与功能详细设计 3.4 的待办中心打通：地图上点击关卡=进入任务详情，待办列表与地图状态互相同步。

### 3.2 角色与成长中心

- **角色面板**：头像、名字、年级、当前等级、称号、装备。  
- **经验条**：展示当前经验、升级需要的经验值、预计完成任务数量。  
- **技能树**：  
  - 以雷达图或树形方式展示不同能力（知识掌握、实践能力、协作力等）。  
  - 每个技能节点显示当前等级、下一等级收益、提升任务推荐。  
- **战斗力指数**：计算公式示例：`战斗力 = 等级系数 + 技能点加权 + 星级总和 + 贡献值`。  
- **成长事件时间轴**：记录获得的新徽章、完成的任务、帮助同学的次数等。

### 3.3 闯关任务流程

1. **任务详情**：剧情介绍、资源入口、奖励列表、技能增益。  
2. **资源学习**：视频/文档内嵌小游戏，如“知识弹题”或“关键点收集”。  
3. **过程提交**：以“任务步骤”呈现，如制作装备、采集材料（对应上传材料/填写表单）。  
4. **过关考题**：  
   - 用“BOSS 战”表现，设置多阶段（A阶段客观题，B阶段主观题）。  
   - 支持提示卡、复活卡等消耗品。  
5. **结果与奖励**：过关动画，展示经验、技能点、金币、星级；未通过给出建议并引导重试。  
6. **分享与炫耀**：支持将战报分享到班级动态或学习群。
7. **流程要求对齐功能设计**：  
   - 任务详情需展示教师端配置的步骤/提交要求/通过条件。  
   - 资源学习记录观看进度，满足功能设计 3.4 的断点续传。  
   - 过关考题与题库/判题模块联动，客观题即时显示分数，主观题等待教师点评。

### 3.4 激励与道具系统

- **奖励**：经验、技能点、金币、稀有徽章、头像框、皮肤、剧情解锁。  
- **道具**：提示卡、时间冻结卡、复活卡、助力卡（可与队友共享）。  
- **任务宝箱**：特定条件（一次通关、快速提交、帮助他人）触发，包含随机奖励。  
- **每日挑战**：系统生成类似“每日任务”，如“观看 2 个视频”、“帮助 1 位同学”。  
- **成长任务**：长期任务，如“连续 4 周保持满星”，奖励唯一称号。  
- **积分商店**：兑换道具、皮肤、现实课堂特权（加分、免答一次）。
- **联动规则**：所有奖励、宝箱、道具均来自教师端激励配置，学生端展示当前规则、库存、失效时间，防止信息偏差。

### 3.5 社交与协作

- **小队系统**：学生可自由组队或由老师分配，队伍共享任务进度与加成。  
- **助力机制**：  
  - 求助：学生在任务步骤或题目处发起求助，队友或全班可答疑。  
  - 助攻奖励：回答被采纳可获得“助攻点”，计入贡献榜。  
- **公会/班级大厅**：发布公告、排行榜、活动入口。  
- **导师/NPC 系统**：教师或优秀学生扮演 NPC，在关键节点提供提示。  
- **课堂赛事**：周挑战、限时副本（如限时答题赛），支持直播排行榜。
- **功能映射**：求助/助攻流程对应功能设计 3.7 的数据分析与预警；小队信息需与教师端审核状态一致；赛事入口与教师端活动策划器同步。

### 3.6 成就与展示

- **徽章墙**：按主题分类（学习达人、团队先锋、创意工匠等），可查看获得条件。  
- **荣誉证书**：完成某章节或赛季后生成带成绩的电子证书。  
- **战报分享**：自动生成图文战报，展示技能提升、排名变化、关键成果。  
- **个人作品集**：将提交的优秀过程材料、项目成果展示在个人主页，便于评优或求职。

### 3.7 数据与反馈

- **实时反馈**：任务进度、答题得分、剩余生命/次数可视化。  
- **学习洞察**：系统推送个性化建议，如“你的协作技能落后 20%，建议参与小队任务”。  
- **成就进度条**：提示距离下一奖励的差距，引导持续学习。  
- **情绪/动力感知（可选）**：通过互动数据推测学生状态，提供鼓励、提醒或联系老师。
- **数据来源**：与功能设计 3.7 的指标保持一致，实时读取任务完成率、知识点掌握度、奖励记录，用于生成个性化建议与复盘。

## 4. 关键页面/流程示意

| 页面/流程 | 关键要素 | 游戏化设计点 |
| --- | --- | --- |
| 首页世界地图 | 地图、章节节点、剧情入口、排行榜入口 | 章节=大关卡，地图切换 = 探索感 |
| 任务流程页 | 资源 → 提交 → BOSS 战 → 奖励 | 用进度条和动画模拟副本流程 |
| 角色成长页 | 经验条、技能树、装备、时间轴 | 强化成长反馈 |
| 小队大厅 | 队伍任务、助攻面板、队聊 | 鼓励协作 PK |
| 成就墙 | 徽章、成就条件、炫耀入口 | 鼓励挑战与分享 |

## 5. 数据与交互要点

- **行为数据**：学习时长、提交次数、助攻行为、使用道具、闯关失败原因。  
- **个性化推荐**：基于数据推荐任务、提示或道具。  
- **交互细节**：  
  - 动画节奏不宜过长（3 秒内），提供跳过按钮。  
  - 关键反馈需要声音/震动提醒（移动端）。  
  - 道具使用需二次确认，避免误操作。  
- **隐私考虑**：排行榜可匿名，个人成绩对他人可配置可见性。
- **指标同步**：实时消费 `analytics_metrics`、`gamification_metrics` 数据，确保学生看到的用时、通过率、技能成长等指标与教师端仪表盘一致。

## 6. 运营活动建议

- 赛季制：每学期为一个赛季，重置部分排行榜，发放赛季奖励。  
- 副本/主题周：结合节日或课程主题推出限时活动，提供限定道具或剧情。  
- 任务创作大赛：学生可提交自创任务，让其他同学挑战。  
- 实体奖励联动：优秀战报/成就可兑换实物或课堂特权，增强动力。  
- “导师守护计划”：邀请学长/优秀学生担任导师 NPC，提供任务辅导。

## 7. 技术 & 实现提示

- 动画与互动建议使用可插拔组件，保证性能。  
- 道具、奖励、活动需配置化，方便不同课程自定义。  
- 地图/技能树数据结构需支持动态扩展，兼容多课程。  
- 需与后台同步经验、技能计算逻辑，保证数据唯一可信。  
- 兼顾弱网场景，关键数据缓存本地并支持断点续传。

## 8. 下一步落地建议

1. 基于本方案绘制低/中保真原型（首页、任务流程、角色中心、小队大厅等）。  
2. 落实经验/技能公式与奖励策略，形成数据模型。  
3. 与教师端对接：定义学生端所需接口（任务列表、奖励、道具等）。  
4. 先在 1-2 门课程试点，验证游戏化元素对参与度的提升，收集反馈迭代。

## 9. 业务流程对齐（参照功能详细设计）

1. **任务消费流程**：地图/待办列表 → 查看任务详情 → 学习资源（记录进度）→ 提交材料 → BOSS 战答题 → 即时奖励 → 错题与战报同步到复盘中心。  
2. **奖励领取流程**：任务结算/每日任务 → 奖励弹窗 → 背包更新 → 可选择立即使用或保存，动作写入奖励日志。  
3. **社交互动流程**：关卡内发起求助 → 小队/班级收到通知 → 助攻回复 → 奖励助攻点与贡献度 → 排行榜刷新。  
4. **成长反馈流程**：完成任务后更新经验/技能树 → 战斗力重新计算 → 排行榜/地图状态刷新 → 数据推送至学生报告。  
5. **活动参与流程**：进入活动入口 → 查看规则与奖励 → 完成指定任务或副本 → 活动积分与奖励与教师端策划器同步。


